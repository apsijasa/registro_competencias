{% extends "base.html" %}

{% block title %}SWIM ANALYSIS - Tiempo Meta{% endblock %}

{% block extra_head %}
<!-- Chart.js para gráficos -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
{% endblock %}

{% block content %}
<!-- Banner pequeño para esta página -->
<section class="page-header">
  <div class="container">
    <h1>Tiempo Meta</h1>
    <p>Establece zonas de entrenamiento y objetivos basados en tu rendimiento actual</p>
  </div>
</section>

<!-- Contenido principal -->
<section class="training-zones-section">
  <div class="container">
    <div class="training-container">
      <div class="training-form">
        <div class="section-title">
          <h2><i class="fas fa-cogs"></i> ¿Cómo Entreno?</h2>
        </div>
        <div class="form-content p-4">
          <form id="training-zones-form">
            <div class="form-grid">
              <div class="form-field">
                <label for="name">
                  <i class="fas fa-user"></i> Nombre:
                </label>
                <select id="name" class="form-select">
                  {% for nadador in nadadores %}
                  <option value="{{ nadador.id }}">{{ nadador.nombre }}</option>
                  {% endfor %}
                </select>
              </div>
              <div class="form-field">
                <label for="stroke">
                  <i class="fas fa-swimming-pool"></i> Estilo:
                </label>
                <select id="stroke" class="form-select">
                  <option value="free">Libre</option>
                  <option value="fly">Mariposa</option>
                  <option value="back">Espalda</option>
                  <option value="breast">Pecho</option>
                  <option value="im">Combinado</option>
                </select>
              </div>
              <div class="form-field">
                <label for="Distance">
                  <i class="fas fa-ruler-horizontal"></i> Distancia:
                </label>
                <select id="Distance" class="form-select">
                  <option value="50m">50m</option>
                  <option value="100m">100m</option>
                  <option value="200m">200m</option>
                  <option value="400">400m</option>
                  <option value="800m">800m</option>
                  <option value="1500m">1500m</option>
                </select>
              </div>
              <div class="form-field">
                <label for="pool">
                  <i class="fas fa-water"></i> Piscina:
                </label>
                <select id="pool" class="form-select">
                  <option value="25m">25m</option>
                  <option value="50m">50m</option>
                  <option value="25y">25y</option>
                </select>
              </div>
              <div class="form-field">
                <label for="time">
                  <i class="fas fa-stopwatch"></i> Tiempo base:
                </label>
                <input type="text" id="time" class="form-control" readonly>
              </div>
            </div>
          </form>
        </div>
      </div>

      <div class="training-results">
        <div class="result-section">
          <div class="section-title">
            <h2><i class="fas fa-chart-line"></i> Zonas de Entrenamiento</h2>
          </div>
          <div class="table-responsive">
            <table class="training-zones-table" id="training-zones-table">
              <thead>
                <tr>
                  <th>Zona</th>
                  <th>Descripción</th>
                  <th>%</th>
                  <th>Tiempo</th>
                  <th>Tiempo/100m</th>
                </tr>
              </thead>
              <tbody id="training-zones-body">
                <!-- Contenido generado dinámicamente por JavaScript -->
                <tr>
                  <td>Z1 - Recuperación</td>
                  <td>Nado suave, técnica</td>
                  <td>50-60%</td>
                  <td>-</td>
                  <td>-</td>
                </tr>
                <tr>
                  <td>Z2 - Aeróbico Base</td>
                  <td>Resistencia aeróbica</td>
                  <td>60-70%</td>
                  <td>-</td>
                  <td>-</td>
                </tr>
                <tr>
                  <td>Z3 - Aeróbico Intenso</td>
                  <td>Desarrollo aeróbico</td>
                  <td>70-80%</td>
                  <td>-</td>
                  <td>-</td>
                </tr>
                <tr>
                  <td>Z4 - Umbral Anaeróbico</td>
                  <td>Umbral de lactato</td>
                  <td>80-85%</td>
                  <td>-</td>
                  <td>-</td>
                </tr>
                <tr>
                  <td>Z5 - VO2 Máximo</td>
                  <td>Potencia aeróbica</td>
                  <td>85-95%</td>
                  <td>-</td>
                  <td>-</td>
                </tr>
                <tr>
                  <td>Z6 - Velocidad</td>
                  <td>Velocidad máxima</td>
                  <td>95-100%</td>
                  <td>-</td>
                  <td>-</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <!-- Gráfico de zonas de entrenamiento -->
        <div class="chart-card mt-4">
          <div class="chart-container">
            <canvas id="zonesChart"></canvas>
          </div>
        </div>
      </div>
    </div>

    <div class="distance-tables" id="distance-tables-container">
      <!-- Las tablas de fracciones y repeticiones por distancia se generarán dinámicamente aquí -->
      <div class="section-title mt-4">
        <h2><i class="fas fa-th"></i> Tiempos por Distancia</h2>
      </div>
      <div class="table-responsive">
        <table class="training-zones-table" id="distance-times-table">
          <thead>
            <tr>
              <th>Distancia</th>
              <th>Z1<br>50-60%</th>
              <th>Z2<br>60-70%</th>
              <th>Z3<br>70-80%</th>
              <th>Z4<br>80-85%</th>
              <th>Z5<br>85-95%</th>
              <th>Z6<br>95-100%</th>
            </tr>
          </thead>
          <tbody id="distance-times-body">
            <!-- Contenido generado dinámicamente por JavaScript -->
          </tbody>
        </table>
      </div>
    </div>

    <div class="training-tips mt-4">
      <div class="tip-card">
        <div class="tip-icon">
          <i class="fas fa-lightbulb"></i>
        </div>
        <div class="tip-content">
          <h3>Cómo utilizar las zonas de entrenamiento</h3>
          <p>Las zonas de entrenamiento te ayudan a planificar tus sesiones con mayor precisión:</p>
          <ul>
            <li>Zona 5-6 (85-100%): Entrenamientos de alta intensidad para mejorar la capacidad
              aeróbica máxima y velocidad</li>
            <li>Zona 4 (80-85%): Trabajo en el umbral anaeróbico para aumentar la resistencia</li>
            <li>Zonas 2-3 (60-80%): Desarrolla la base aeróbica con volúmenes más largos</li>
            <li>Zona 1 (50-60%): Recuperación activa y técnica</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}

{% block extra_scripts %}
<script src="{{ url_for('static', filename='js/analysis.js') }}"></script>
{% endblock %}